"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = _interopRequireDefault(require("react"));

var _hoistNonReactStatics = _interopRequireDefault(require("hoist-non-react-statics"));

var _reactHocHelpers = require("react-hoc-helpers");

var _ContentfulContext = _interopRequireDefault(require("./ContentfulContext"));

/**
 * A public higher-order component to access the imperative API
 */
function withContentful(Component) {
  var C = function C(props) {
    var wrappedComponentRef = props.wrappedComponentRef,
        remainingProps = (0, _objectWithoutPropertiesLoose2["default"])(props, ["wrappedComponentRef"]);
    return /*#__PURE__*/_react["default"].createElement(_ContentfulContext["default"].Consumer, null, function (context) {
      return /*#__PURE__*/_react["default"].createElement(Component, (0, _extends2["default"])({}, remainingProps, {
        contentful: context,
        ref: wrappedComponentRef
      }));
    });
  };

  C.context = _ContentfulContext["default"];
  C.displayName = "withContentful(" + (0, _reactHocHelpers.getDisplayName)(Component) + ")";
  C.WrappedComponent = Component;
  return (0, _hoistNonReactStatics["default"])(C, Component);
}

var _default = withContentful;
exports["default"] = _default;